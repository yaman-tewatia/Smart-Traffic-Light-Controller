<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1043pt" height="1305pt" viewBox="0.00 0.00 1042.64 1305.26">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1301.26)">
<title>SmartTrafficLight</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1301.26 1038.64,-1301.26 1038.64,4 -4,4"/>
<!-- IDLE -->
<g id="node1" class="node">
<title>IDLE</title>
<ellipse fill="none" stroke="black" cx="214.82" cy="-631.96" rx="83.5" ry="83.5"/>
<text text-anchor="middle" x="214.82" y="-635.56" font-family="Times,serif" font-size="12.00">IDLE</text>
<text text-anchor="middle" x="214.82" y="-621.16" font-family="Times,serif" font-size="12.00">N=R S=R E=R W=R</text>
</g>
<!-- IDLE&#45;&gt;IDLE -->
<g id="edge11" class="edge">
<title>IDLE-&gt;IDLE</title>
<path fill="none" stroke="black" d="M194.04,-713.19C197.28,-725.28 204.2,-733.46 214.82,-733.46 221.95,-733.46 227.42,-729.77 231.22,-723.68"/>
<polygon fill="black" stroke="black" points="234.39,-725.16 235.02,-714.59 227.93,-722.47 234.39,-725.16"/>
<text text-anchor="middle" x="214.82" y="-737.66" font-family="Times,serif" font-size="14.00">no active request</text>
</g>
<!-- PED -->
<g id="node2" class="node">
<title>PED</title>
<ellipse fill="none" stroke="black" cx="685.85" cy="-1178.96" rx="83.5" ry="83.5"/>
<text text-anchor="middle" x="685.85" y="-1182.56" font-family="Times,serif" font-size="12.00">PED (5 cycles)</text>
<text text-anchor="middle" x="685.85" y="-1168.16" font-family="Times,serif" font-size="12.00">N=R S=R E=R W=R</text>
</g>
<!-- IDLE&#45;&gt;PED -->
<g id="edge6" class="edge">
<title>IDLE-&gt;PED</title>
<path fill="none" stroke="black" d="M223.94,-715.04C236.93,-830.75 266.16,-1032.1 316.32,-1083.96 387.35,-1157.42 507.04,-1176.79 590.69,-1180.62"/>
<polygon fill="black" stroke="black" points="590.35,-1184.11 600.47,-1181 590.62,-1177.12 590.35,-1184.11"/>
<text text-anchor="middle" x="450.1" y="-1184.29" font-family="Times,serif" font-size="14.00">pedestrian_button=1 (and no emergency active)</text>
</g>
<!-- N_GREEN -->
<g id="node3" class="node">
<title>N_GREEN</title>
<ellipse fill="none" stroke="black" cx="685.85" cy="-958.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="685.85" y="-962.56" font-family="Times,serif" font-size="12.00">N_GREEN (8)</text>
<text text-anchor="middle" x="685.85" y="-948.16" font-family="Times,serif" font-size="12.00">N=G S=R E=R W=R</text>
</g>
<!-- IDLE&#45;&gt;N_GREEN -->
<g id="edge2" class="edge">
<title>IDLE-&gt;N_GREEN</title>
<path fill="none" stroke="black" d="M221.96,-715.51C231.48,-780.89 255.58,-868.59 316.32,-916.96 393.41,-978.37 510.05,-981.37 591.39,-973.84"/>
<polygon fill="black" stroke="black" points="591.52,-977.35 601.12,-972.87 590.82,-970.38 591.52,-977.35"/>
<text text-anchor="middle" x="450.1" y="-980.98" font-family="Times,serif" font-size="14.00">emergency[3]=1 (North emergency)</text>
</g>
<!-- IDLE&#45;&gt;N_GREEN -->
<g id="edge7" class="edge">
<title>IDLE-&gt;N_GREEN</title>
<path fill="none" stroke="black" d="M232.45,-713.94C246.56,-762.16 271.9,-820.12 316.32,-853.96 412.08,-926.93 471.06,-854.16 583.89,-896.16 591.4,-898.96 598.96,-902.36 606.38,-906.1"/>
<polygon fill="black" stroke="black" points="604.57,-909.11 615.05,-910.7 607.85,-902.92 604.57,-909.11"/>
<text text-anchor="middle" x="450.1" y="-900.36" font-family="Times,serif" font-size="14.00">car_n=1 (no emergency &amp; no pedestrian)</text>
</g>
<!-- S_GREEN -->
<g id="node5" class="node">
<title>S_GREEN</title>
<ellipse fill="none" stroke="black" cx="685.85" cy="-631.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="685.85" y="-635.56" font-family="Times,serif" font-size="12.00">S_GREEN (8)</text>
<text text-anchor="middle" x="685.85" y="-621.16" font-family="Times,serif" font-size="12.00">N=R S=G E=R W=R</text>
</g>
<!-- IDLE&#45;&gt;S_GREEN -->
<g id="edge3" class="edge">
<title>IDLE-&gt;S_GREEN</title>
<path fill="none" stroke="black" d="M298.59,-631.96C380.27,-631.96 504.97,-631.96 590.45,-631.96"/>
<polygon fill="black" stroke="black" points="590.21,-635.46 600.21,-631.96 590.21,-628.46 590.21,-635.46"/>
<text text-anchor="middle" x="450.1" y="-636.16" font-family="Times,serif" font-size="14.00">emergency[2]=1 (South emergency)</text>
</g>
<!-- IDLE&#45;&gt;S_GREEN -->
<g id="edge8" class="edge">
<title>IDLE-&gt;S_GREEN</title>
<path fill="none" stroke="black" d="M296.78,-613.73C303.36,-612.7 309.94,-611.82 316.32,-611.16 434.62,-599.05 465.58,-599.1 583.89,-611.16 586.69,-611.45 589.53,-611.78 592.4,-612.15"/>
<polygon fill="black" stroke="black" points="591.63,-615.57 602.02,-613.52 592.61,-608.64 591.63,-615.57"/>
<text text-anchor="middle" x="450.1" y="-615.36" font-family="Times,serif" font-size="14.00">car_s=1 (no emergency &amp; no pedestrian)</text>
</g>
<!-- E_GREEN -->
<g id="node7" class="node">
<title>E_GREEN</title>
<ellipse fill="none" stroke="black" cx="685.85" cy="-410.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="685.85" y="-414.56" font-family="Times,serif" font-size="12.00">E_GREEN (8)</text>
<text text-anchor="middle" x="685.85" y="-400.16" font-family="Times,serif" font-size="12.00">N=R S=R E=G W=R</text>
</g>
<!-- IDLE&#45;&gt;E_GREEN -->
<g id="edge4" class="edge">
<title>IDLE-&gt;E_GREEN</title>
<path fill="none" stroke="black" d="M289.65,-593.97C298.59,-589.56 307.63,-585.21 316.32,-581.16 433.54,-526.59 467.74,-523.78 583.89,-466.96 589.97,-463.99 596.21,-460.82 602.46,-457.57"/>
<polygon fill="black" stroke="black" points="603.71,-460.87 610.92,-453.1 600.44,-454.67 603.71,-460.87"/>
<text text-anchor="middle" x="450.1" y="-585.36" font-family="Times,serif" font-size="14.00">emergency[1]=1 (East emergency)</text>
</g>
<!-- IDLE&#45;&gt;E_GREEN -->
<g id="edge9" class="edge">
<title>IDLE-&gt;E_GREEN</title>
<path fill="none" stroke="black" d="M239.32,-551.9C254.85,-513.52 279.32,-470.67 316.32,-446.16 397.56,-392.34 511.84,-389.93 591.53,-396.91"/>
<polygon fill="black" stroke="black" points="590.74,-400.35 601.03,-397.81 591.4,-393.38 590.74,-400.35"/>
<text text-anchor="middle" x="450.1" y="-450.36" font-family="Times,serif" font-size="14.00">car_e=1 (no emergency &amp; no pedestrian)</text>
</g>
<!-- W_GREEN -->
<g id="node9" class="node">
<title>W_GREEN</title>
<ellipse fill="none" stroke="black" cx="685.85" cy="-83.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="685.85" y="-87.56" font-family="Times,serif" font-size="12.00">W_GREEN (8)</text>
<text text-anchor="middle" x="685.85" y="-73.16" font-family="Times,serif" font-size="12.00">N=R S=R E=R W=G</text>
</g>
<!-- IDLE&#45;&gt;W_GREEN -->
<g id="edge5" class="edge">
<title>IDLE-&gt;W_GREEN</title>
<path fill="none" stroke="black" d="M225.68,-548.83C240.21,-439.86 270.69,-256.86 316.32,-208.16 401.37,-117.37 466.86,-168.17 583.89,-125.96 588.48,-124.31 593.17,-122.56 597.9,-120.76"/>
<polygon fill="black" stroke="black" points="598.79,-124.16 606.84,-117.28 596.25,-117.64 598.79,-124.16"/>
<text text-anchor="middle" x="450.1" y="-212.36" font-family="Times,serif" font-size="14.00">emergency[0]=1 (West emergency)</text>
</g>
<!-- IDLE&#45;&gt;W_GREEN -->
<g id="edge10" class="edge">
<title>IDLE-&gt;W_GREEN</title>
<path fill="none" stroke="black" d="M219.65,-548.15C227.66,-414.48 251.21,-162.25 316.32,-105.16 391.06,-39.62 510.54,-45.73 593.09,-60.71"/>
<polygon fill="black" stroke="black" points="592.27,-64.12 602.75,-62.55 593.58,-57.24 592.27,-64.12"/>
<text text-anchor="middle" x="450.1" y="-109.36" font-family="Times,serif" font-size="14.00">car_w=1 (no emergency &amp; no pedestrian)</text>
</g>
<!-- PED&#45;&gt;IDLE -->
<g id="edge13" class="edge">
<title>PED-&gt;IDLE</title>
<path fill="none" stroke="black" d="M628.77,-1118.25C619.63,-1107.94 610.38,-1097.24 601.89,-1086.96 593.44,-1076.74 594.97,-1070.45 583.89,-1063.16 481.58,-995.97 404.11,-1083.25 316.32,-997.96 277.62,-960.37 247.3,-821.1 230.48,-725.62"/>
<polygon fill="black" stroke="black" points="233.97,-725.24 228.81,-715.98 227.07,-726.44 233.97,-725.24"/>
<text text-anchor="middle" x="450.1" y="-1067.36" font-family="Times,serif" font-size="14.00">count == 4</text>
</g>
<!-- PED&#45;&gt;PED -->
<g id="edge12" class="edge">
<title>PED-&gt;PED</title>
<path fill="none" stroke="black" d="M663.21,-1259.78C666.67,-1272.1 674.22,-1280.46 685.85,-1280.46 693.85,-1280.46 699.92,-1276.51 704.05,-1270.04"/>
<polygon fill="black" stroke="black" points="707.13,-1271.74 707.89,-1261.17 700.71,-1268.96 707.13,-1271.74"/>
<text text-anchor="middle" x="685.85" y="-1284.66" font-family="Times,serif" font-size="14.00">count != 4</text>
</g>
<!-- N_GREEN&#45;&gt;N_GREEN -->
<g id="edge14" class="edge">
<title>N_GREEN-&gt;N_GREEN</title>
<path fill="none" stroke="black" d="M663.21,-1040.16C666.67,-1052.53 674.22,-1060.93 685.85,-1060.93 693.85,-1060.93 699.92,-1056.96 704.05,-1050.46"/>
<polygon fill="black" stroke="black" points="707.15,-1052.11 707.89,-1041.55 700.72,-1049.34 707.15,-1052.11"/>
<text text-anchor="middle" x="685.85" y="-1065.13" font-family="Times,serif" font-size="14.00">count != 7</text>
</g>
<!-- N_YELLOW -->
<g id="node4" class="node">
<title>N_YELLOW</title>
<ellipse fill="none" stroke="black" cx="950.68" cy="-884.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="950.68" y="-888.56" font-family="Times,serif" font-size="12.00">N_YELLOW (4)</text>
<text text-anchor="middle" x="950.68" y="-874.16" font-family="Times,serif" font-size="12.00">N=Y S=R E=R W=R</text>
</g>
<!-- N_GREEN&#45;&gt;N_YELLOW -->
<g id="edge15" class="edge">
<title>N_GREEN-&gt;N_YELLOW</title>
<path fill="none" stroke="black" d="M767.14,-936.36C796.04,-928.22 828.86,-918.98 858.62,-910.6"/>
<polygon fill="black" stroke="black" points="859.3,-914.05 867.98,-907.97 857.4,-907.31 859.3,-914.05"/>
<text text-anchor="middle" x="818.27" y="-932.79" font-family="Times,serif" font-size="14.00">count == 7</text>
</g>
<!-- N_YELLOW&#45;&gt;IDLE -->
<g id="edge17" class="edge">
<title>N_YELLOW-&gt;IDLE</title>
<path fill="none" stroke="black" d="M868.08,-868.04C702.43,-833.5 340.29,-756.94 316.32,-742.96 300.26,-733.61 285.34,-720.82 272.17,-707.25"/>
<polygon fill="black" stroke="black" points="275.05,-705.21 265.66,-700.3 269.94,-709.99 275.05,-705.21"/>
<text text-anchor="middle" x="685.85" y="-850.53" font-family="Times,serif" font-size="14.00">count == 3</text>
</g>
<!-- N_YELLOW&#45;&gt;N_YELLOW -->
<g id="edge16" class="edge">
<title>N_YELLOW-&gt;N_YELLOW</title>
<path fill="none" stroke="black" d="M928.04,-966.16C931.49,-978.53 939.04,-986.93 950.68,-986.93 958.68,-986.93 964.75,-982.96 968.88,-976.46"/>
<polygon fill="black" stroke="black" points="971.98,-978.11 972.72,-967.55 965.55,-975.34 971.98,-978.11"/>
<text text-anchor="middle" x="950.68" y="-991.13" font-family="Times,serif" font-size="14.00">count != 3</text>
</g>
<!-- S_GREEN&#45;&gt;S_GREEN -->
<g id="edge18" class="edge">
<title>S_GREEN-&gt;S_GREEN</title>
<path fill="none" stroke="black" d="M663.21,-713.16C666.67,-725.53 674.22,-733.93 685.85,-733.93 693.85,-733.93 699.92,-729.96 704.05,-723.46"/>
<polygon fill="black" stroke="black" points="707.15,-725.11 707.89,-714.55 700.72,-722.34 707.15,-725.11"/>
<text text-anchor="middle" x="685.85" y="-738.13" font-family="Times,serif" font-size="14.00">count != 7</text>
</g>
<!-- S_YELLOW -->
<g id="node6" class="node">
<title>S_YELLOW</title>
<ellipse fill="none" stroke="black" cx="950.68" cy="-636.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="950.68" y="-640.56" font-family="Times,serif" font-size="12.00">S_YELLOW (4)</text>
<text text-anchor="middle" x="950.68" y="-626.16" font-family="Times,serif" font-size="12.00">N=R S=Y E=R W=R</text>
</g>
<!-- S_GREEN&#45;&gt;S_YELLOW -->
<g id="edge19" class="edge">
<title>S_GREEN-&gt;S_YELLOW</title>
<path fill="none" stroke="black" d="M770.01,-633.55C797.11,-634.06 827.38,-634.64 855.24,-635.17"/>
<polygon fill="black" stroke="black" points="855.03,-638.66 865.1,-635.36 855.16,-631.67 855.03,-638.66"/>
<text text-anchor="middle" x="818.27" y="-639.11" font-family="Times,serif" font-size="14.00">count == 7</text>
</g>
<!-- S_YELLOW&#45;&gt;IDLE -->
<g id="edge21" class="edge">
<title>S_YELLOW-&gt;IDLE</title>
<path fill="none" stroke="black" d="M888.05,-692.87C855.42,-718.69 813.19,-746.55 769.82,-759.96 604.97,-810.94 406.96,-732.63 297.93,-677.82"/>
<polygon fill="black" stroke="black" points="299.83,-674.86 289.33,-673.45 296.66,-681.1 299.83,-674.86"/>
<text text-anchor="middle" x="685.85" y="-780.68" font-family="Times,serif" font-size="14.00">count == 3</text>
</g>
<!-- S_YELLOW&#45;&gt;S_YELLOW -->
<g id="edge20" class="edge">
<title>S_YELLOW-&gt;S_YELLOW</title>
<path fill="none" stroke="black" d="M928.04,-718.16C931.49,-730.53 939.04,-738.93 950.68,-738.93 958.68,-738.93 964.75,-734.96 968.88,-728.46"/>
<polygon fill="black" stroke="black" points="971.98,-730.11 972.72,-719.55 965.55,-727.34 971.98,-730.11"/>
<text text-anchor="middle" x="950.68" y="-743.13" font-family="Times,serif" font-size="14.00">count != 3</text>
</g>
<!-- E_GREEN&#45;&gt;E_GREEN -->
<g id="edge22" class="edge">
<title>E_GREEN-&gt;E_GREEN</title>
<path fill="none" stroke="black" d="M663.21,-492.16C666.67,-504.53 674.22,-512.93 685.85,-512.93 693.85,-512.93 699.92,-508.96 704.05,-502.46"/>
<polygon fill="black" stroke="black" points="707.15,-504.11 707.89,-493.55 700.72,-501.34 707.15,-504.11"/>
<text text-anchor="middle" x="685.85" y="-517.13" font-family="Times,serif" font-size="14.00">count != 7</text>
</g>
<!-- E_YELLOW -->
<g id="node8" class="node">
<title>E_YELLOW</title>
<ellipse fill="none" stroke="black" cx="950.68" cy="-402.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="950.68" y="-406.56" font-family="Times,serif" font-size="12.00">E_YELLOW (4)</text>
<text text-anchor="middle" x="950.68" y="-392.16" font-family="Times,serif" font-size="12.00">N=R S=R E=Y W=R</text>
</g>
<!-- E_GREEN&#45;&gt;E_YELLOW -->
<g id="edge23" class="edge">
<title>E_GREEN-&gt;E_YELLOW</title>
<path fill="none" stroke="black" d="M770.01,-408.43C797.11,-407.61 827.38,-406.69 855.24,-405.84"/>
<polygon fill="black" stroke="black" points="855.21,-409.34 865.1,-405.54 854.99,-402.35 855.21,-409.34"/>
<text text-anchor="middle" x="818.27" y="-411.88" font-family="Times,serif" font-size="14.00">count == 7</text>
</g>
<!-- E_YELLOW&#45;&gt;IDLE -->
<g id="edge25" class="edge">
<title>E_YELLOW-&gt;IDLE</title>
<path fill="none" stroke="black" d="M882.41,-353.9C850.07,-333.28 809.72,-311.67 769.82,-301.16 697.64,-282.16 675.68,-289.96 601.89,-301.16 470.48,-321.12 414.53,-300.41 316.32,-389.96 273.72,-428.8 248.68,-488.48 234.24,-538.85"/>
<polygon fill="black" stroke="black" points="230.91,-537.74 231.63,-548.31 237.66,-539.6 230.91,-537.74"/>
<text text-anchor="middle" x="685.85" y="-305.36" font-family="Times,serif" font-size="14.00">count == 3</text>
</g>
<!-- E_YELLOW&#45;&gt;E_YELLOW -->
<g id="edge24" class="edge">
<title>E_YELLOW-&gt;E_YELLOW</title>
<path fill="none" stroke="black" d="M928.04,-484.16C931.49,-496.53 939.04,-504.93 950.68,-504.93 958.68,-504.93 964.75,-500.96 968.88,-494.46"/>
<polygon fill="black" stroke="black" points="971.98,-496.11 972.72,-485.55 965.55,-493.34 971.98,-496.11"/>
<text text-anchor="middle" x="950.68" y="-509.13" font-family="Times,serif" font-size="14.00">count != 3</text>
</g>
<!-- W_GREEN&#45;&gt;W_GREEN -->
<g id="edge26" class="edge">
<title>W_GREEN-&gt;W_GREEN</title>
<path fill="none" stroke="black" d="M663.21,-165.16C666.67,-177.53 674.22,-185.93 685.85,-185.93 693.85,-185.93 699.92,-181.96 704.05,-175.46"/>
<polygon fill="black" stroke="black" points="707.15,-177.11 707.89,-166.55 700.72,-174.34 707.15,-177.11"/>
<text text-anchor="middle" x="685.85" y="-190.13" font-family="Times,serif" font-size="14.00">count != 7</text>
</g>
<!-- W_YELLOW -->
<g id="node10" class="node">
<title>W_YELLOW</title>
<ellipse fill="none" stroke="black" cx="950.68" cy="-155.96" rx="83.96" ry="83.96"/>
<text text-anchor="middle" x="950.68" y="-159.56" font-family="Times,serif" font-size="12.00">W_YELLOW (4)</text>
<text text-anchor="middle" x="950.68" y="-145.16" font-family="Times,serif" font-size="12.00">N=R S=R E=R W=Y</text>
</g>
<!-- W_GREEN&#45;&gt;W_YELLOW -->
<g id="edge27" class="edge">
<title>W_GREEN-&gt;W_YELLOW</title>
<path fill="none" stroke="black" d="M767.14,-105.96C796.04,-113.88 828.86,-122.87 858.62,-131.02"/>
<polygon fill="black" stroke="black" points="857.4,-134.32 867.97,-133.58 859.25,-127.56 857.4,-134.32"/>
<text text-anchor="middle" x="818.27" y="-130.61" font-family="Times,serif" font-size="14.00">count == 7</text>
</g>
<!-- W_YELLOW&#45;&gt;IDLE -->
<g id="edge29" class="edge">
<title>W_YELLOW-&gt;IDLE</title>
<path fill="none" stroke="black" d="M870.97,-182.53C839.7,-192.55 803.28,-203.54 769.82,-211.96 670.27,-237.04 392.52,-231.18 316.32,-299.96 249.98,-359.84 226.78,-461.84 219,-537.02"/>
<polygon fill="black" stroke="black" points="215.53,-536.59 218.06,-546.87 222.49,-537.25 215.53,-536.59"/>
<text text-anchor="middle" x="685.85" y="-236.47" font-family="Times,serif" font-size="14.00">count == 3</text>
</g>
<!-- W_YELLOW&#45;&gt;W_YELLOW -->
<g id="edge28" class="edge">
<title>W_YELLOW-&gt;W_YELLOW</title>
<path fill="none" stroke="black" d="M928.04,-237.16C931.49,-249.53 939.04,-257.93 950.68,-257.93 958.68,-257.93 964.75,-253.96 968.88,-247.46"/>
<polygon fill="black" stroke="black" points="971.98,-249.11 972.72,-238.55 965.55,-246.34 971.98,-249.11"/>
<text text-anchor="middle" x="950.68" y="-262.13" font-family="Times,serif" font-size="14.00">count != 3</text>
</g>
<!-- RESET -->
<g id="node11" class="node">
<title>RESET</title>
<text text-anchor="middle" x="27" y="-628.36" font-family="Times,serif" font-size="12.00">reset</text>
</g>
<!-- RESET&#45;&gt;IDLE -->
<g id="edge1" class="edge">
<title>RESET-&gt;IDLE</title>
<path fill="none" stroke="black" d="M53.84,-631.96C71.23,-631.96 95.33,-631.96 119.56,-631.96"/>
<polygon fill="black" stroke="black" points="119.53,-635.46 129.53,-631.96 119.53,-628.46 119.53,-635.46"/>
<text text-anchor="middle" x="92.66" y="-636.16" font-family="Times,serif" font-size="14.00">reset=1</text>
</g>
</g>
</svg>